<!DOCTYPE html>
<html lang="zh-tw">

<head>
    <meta charset="UTF-8">
    <title>02checkPassword.html</title>
</head>

<body>
    <label>Password:</label>
    <input type="password" id="idPwd" size="6" /><!-- 瀏覽器執行到此標籤會建立一個物件-->
    <span id="idsp"></span><br />
    <input type="button" id="idbut" value="checkPassword" onclick="checkPwd();" />

    <script>
        function checkPwd() {
            //取得idPwd元素
            let thePwdObj = document.getElementById('idPwd'); // 抓輸入密碼欄位的資料 (input type='password')
            console.log(thePwdObj);

            //取得idPwd元素值
            let thePwdObjVal = thePwdObj.value; // 抓輸入的資料"值"
            console.log(thePwdObjVal);

            let flag1 = false, flag2 = false, flag3 = false;

            //判斷元素值是否為空白，密碼長度是否大於6
            let thePwdLen = thePwdObjVal.length;
            if (thePwdObjVal == "") {
                // alert('請輸入密碼')
                idsp.innerHTML = '請輸入密碼';
            }

            //如果長度是否大於6，判斷是否包含字母、數字、特殊符號
            else if (thePwdLen >= 6) {
                for (let i = 0; i < thePwdLen; i++) {
                    let PwdCh = thePwdObjVal.charAt(i).toUpperCase();
                    if (PwdCh >= "A" && PwdCh <= "Z") {
                        flag1 = true;
                        console.log(PwdCh.charCodeAt(i));
                    }
                    else if (PwdCh >= 0 && PwdCh <= 9) {
                        flag2 = true;
                    }
                    if (flag1 && flag2) { break; }
                }
                if (flag1 && flag2) { idsp.innerHTML = "correct"; } else {
                    idsp.innerHTML = "incorrect";
                }
            } else {
                idsp.innerHTML = "密碼長度需大於 6 字元";
            }

        }    
    </script>
</body>

</html>